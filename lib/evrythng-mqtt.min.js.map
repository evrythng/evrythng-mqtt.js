{"version":3,"sources":["evrythng-mqtt.js"],"names":["root","factory","module","exports","require","this","mqtt","_generateClientId","prefix","Math","random","toString","substr","_isClientConnected","scope","mqttClient","Client","connected","_getClient","settings","EVTMqttPlugin","connectPromiseMap","apiKey","Promise","resolve","reject","mqttClientId","clientIdPrefix","mqttOptions","username","password","clientId","keepalive","keepAlive","reconnectPeriod","client","connect","apiUrl","on","subscribeMap","forEach","topic","subscribe","error","_publishMessage","message","successCallback","errorCallback","$this","then","publishHandler","err","JSON","stringify","jsonify","publish","path","_addSubscription","indexOf","push","_removeSubscription","idx","splice","version","defaultSettings","setup","customSettings","Object","prototype","call","TypeError","i","hasOwnProperty","install","Resource","Action","messageCallback","subscriptionHandler","response","parse","e","unsubscribe","unsubscriptionHandler","connectErr","Error","method","transferToPublish","request","options","cancel","data","interceptors","cancelled","$inject"],"mappings":"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","file":"evrythng-mqtt.min.js"}