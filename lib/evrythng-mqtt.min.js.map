{"version":3,"sources":["evrythng-mqtt.js"],"names":["root","factory","module","exports","require","this","mqtt","_generateClientId","prefix","Math","random","toString","substr","_isClientConnected","scope","mqttClient","Client","connected","_getClient","connectPromiseMap","apiKey","Promise","resolve","reject","_cleanUp","error","client","end","settings","EVTMqttPlugin","mqttOptions","username","password","clientId","clientIdPrefix","keepalive","keepAlive","reconnectPeriod","connect","apiUrl","on","subscribeMap","forEach","topic","subscribe","_publishMessage","message","successCallback","errorCallback","$this","then","publishHandler","err","JSON","stringify","jsonify","publish","path","_addSubscription","indexOf","push","_removeSubscription","idx","splice","version","defaultSettings","setup","customSettings","Object","prototype","call","TypeError","i","hasOwnProperty","install","Resource","Action","messageCallback","subscriptionHandler","response","parse","e","unsubscribe","unsubscriptionHandler","connectErr","Error","method","transferToPublish","request","options","cancel","data","interceptors","cancelled","$inject"],"mappings":"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","file":"evrythng-mqtt.min.js"}